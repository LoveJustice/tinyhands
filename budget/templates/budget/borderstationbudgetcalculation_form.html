{% extends 'base.html' %}
{% load widget_tweaks %}
{% load bootstrap %}
{% load humanize %}
{% load unslugify %}




{% block title %}Budget Calculation{% endblock %}

{% block tab_block %}
    {% block content %}
        <!--<script type="text/javascript" src="http://knockoutjs.com/downloads/knockout-3.2.0.js"></script>-->
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>


     <h1 style="font-size: 25px; text-align: center">Tiny Hands Nepal - Border Monitoring Station Budget Calculation Form</h1>

     <form id="budget-calc-form" method="post">
        {% csrf_token %}
        <!-- First Table Thing -->

        <div class="form-page" ng-app="BudgetCalculation" ng-controller="MainCtrl as main">
            <div class="row">
                <div class="col-md-4">
                </div>

                <div class="col-md-2">
                </div>

                <div class="col-md-4 col-md-offset-7">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>   </th>
                                <th class="text-center">INT</th>
                                <th class="text-center">$/INT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Last Month</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>Last 3 Months</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>All Time</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td># of Staff</td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- End First Table Thingy -->

            <!-- Shelter -->
            <div class="row" >
                <div class="col-md-6">
                    <h2 class="background"><span>Staff Salaries</span></h2>

                    {{ staff_formset.management_form }}

                    {% for staff_form in staff_formset %}

                        <div class="row">
                            <div class="col-lg-4">
                                <h3>
                                    {{ staff_form.instance.first_name }}
                                    {{ staff_form.instance.last_name }}
                                </h3>
                            </div>
                            <div class="col-lg-7">
                                    {{ staff_form|bootstrap }}
                            </div>
                        </div>

                    {% endfor %}

                </div>
                <div class="col-md-6">
                    <h2 class="background"><span>Shelter</span></h2>
                    <div class="row" >
                        <div class="col-lg-2 input-with-text calc-form-input-no-width" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="shelter_rent" ng-model="main.shelterRent"/>
                            <small>Rent</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0">
                            <h4 style="text-align: center">+</h4>
                        </div>
                        <div class="col-lg-2 input-with-text calc-form-input-no-width" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="shelter_water" ng-model="main.shelterWater"/>
                            <small>Water</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0">
                            <h4 style="text-align: center">+</h4>
                        </div>
                        <div class="col-lg-2 input-with-text calc-form-input-no-width" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="shelter_electricity" ng-model="main.shelterElectricity"/>
                            <small>Electricity</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-1 pull-right input-group" style="width: 100px; text-align: center; padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.utilTotal()" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 30px; text-align: center">
                        <div class="col-lg-2" style="margin-top: 5px; width: 50px">
                            <input class="form-control" type="checkbox" id="shelterStartupBool" ng-model="main.shelterStartupBool"/>
                        </div>
                        <div class="col-lg-2 input-with-text" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="shelter_startup_amount" ng-model="main.shelterStartupAmount"/>
                            <small>Shelter Startup</small>
                        </div>
                        <div class="col-lg-2" style="margin-top: 5px; width: 50px">
                            <input class="form-control" type="checkbox" id="sheltert_two_bool" ng-model="main.shelterTwoBool"/>
                        </div>
                        <div class="col-lg-2 input-with-text" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="shelter_two_amount" ng-model="main.shelterTwoAmount"/>
                            <small>Shelter 2</small>
                        </div>
                        <div class="col-lg-1" style="padding: 0">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-1 pull-right input-group" style="width: 100px; text-align: center; padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.shelterCheckboxTotal()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Shelter Total</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.shelterTotal()" disabled="disabled"/>
                    </div>
                </div>
                <!-- End Shelter -->

                <!-- Food & Gas -->
                <div class="col-lg-6 col-lg-offset-6">
                    <h2 class="background"><span>Food & Gas</span></h2>
                    <div class="row">
                        <div class="col-lg-2 text-center">
                            <strong>Intercepted Girls</strong>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input">
                            <input class="form-control" type="number" id="food_gas_multiplier_before" ng-model="main.foodGasMultiplierBefore"/>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input input-with-text">
                            <input class="form-control" type="number" id="food_gas_number_of_girls" ng-model="main.foodGasNumberOfGirls"/>
                            <small># of Girls</small>
                        </div>
                         <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input">
                            <input class="form-control" type="number" id="food_gas_multiplier_after" ng-model="main.foodGasMultiplierAfter"/>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.foodGasInterceptedGirls()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row" style="margin-top: 20px">
                        <div class="col-lg-2 text-center">
                            <strong>Limbo Girls</strong>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input">
                            <input class="form-control" type="number" id="limbo_multiplier" ng-model="main.limboMultiplier"/>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input input-with-text">
                            <input class="form-control" type="number" id="limbo_number_of_girls" ng-model="main.limboNumberOfGirls"/>
                            <small># of Girls</small>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input input-with-text">
                            <input class="form-control" type="number" id="limbo_number_of_days" ng-model="main.limboNumberOfDays"/>
                            <small># of Days</small>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.foodGasLimboGirls()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Food</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.foodTotal()" disabled="disabled"/>
                    </div>
                 </div>
            </div>
            <!-- End Food & Gas -->

            <!-- Communication -->
            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Communication</span></h2>
                    <div class="row">
                        <div class="col-md-6 form-inline">
                            <span style="padding-right: 10px"></span>
                            <input class="form-control" type="checkbox" id="comm_chair_bool" ng-model="main.commChairBool"/>
                            <input class="form-control" type="number" id="comm_chair_amount" ng-model="main.commChairAmount"/>
                            <span style="padding-left: 10px"><small>for chair</small></span>
                        </div>
                        <div class="col-md-6 form-inline">
                            <span style="padding-right: 10px"></span>
                            <input class="form-control" type="checkbox" id="comm_manager_bool" ng-model="main.commManagerBool"/>
                            <input class="form-control" type="number" id="comm_manager_amount" ng-model="main.commManagerAmount"/>
                            <span style="padding-left: 10px;"><small>for manager</small></span>
                        </div>
                    </div>

                    <div class="row" style="margin-top: 20px">
                        <div class="col-lg-5 calc-form-input-no-width input-with-text" style="width: 200px">
                            <input class="form-control" type="number" id="comm_number_of_staff_wt" ng-model="main.commNumberOfStaffWt"/>
                            <small># of staff with walkie-talkies</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-3 calc-form-input-no-width">
                            <input class="form-control" type="number" id="comm_number_of_staff_wt_multiplier" ng-model="main.commNumberOfStaffWtMultiplier"/>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input-no-width pull-right input-group">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.commNumberOfStaffTotal()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row" style="margin-top: 20px;">
                        <div class="col-lg-5 calc-form-input-no-width input-with-text" style="width: 200px">
                            <input class="form-control" type="number" id="comm_each_staff_wt" ng-model="main.commEachStaffWt"/>
                            <small>Each Staff</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-3 calc-form-input-no-width">
                            <input class="form-control" type="number" id="comm_each_staff_wt_multiplier" ng-model="main.commEachStaffWtMultiplier"/>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input-no-width pull-right input-group">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.commEachStaffTotal()" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Communcation</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.commTotal()" disabled="disabled"/>
                    </div>

                </div>
                <!-- End Communication -->

                <!-- Awareness -->
                <div class="col-lg-6">
                    <h2 class="background"><span>Awareness</span></h2>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="awareness_contact_cards_bool" ng-model="main.awarenessContactCardsBool"/>
                        </div>
                        <div class="col-lg-4">

                            <input class="form-control" type="number" id="awareness_contact_cards_amount" ng-model="main.awarenessContactCardsAmount"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="awareness_awareness_party_bool" ng-model="main.awarenessAwarenessPartyBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="awareness_awareness_party_amount" ng-model="main.awarenessAwarenessPartyAmount"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="awareness_sign_boards_bool" ng-model="main.awarenessSignBoardsBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="awareness_sign_boards_amount" ng-model="main.awarenessSignBoardsAmount"/>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        {{ awareness_items_formset.management_form }}
                        {% for item_form in awareness_items_formset %}
                            <div id='{{item_form.prefix}}'>
                                {% include "budget/other_item_cost.html" with form=item_form %}
                            </div>
                        {% endfor %}
                        <script type="text/javascript">
                            /* Allows for the creation of more or less staff/committee members */
                                $(function() {
                                    {% for formset in awareness_items_formset %}
                                    $('div#{{ formset.prefix }}').formset({
                                       prefix: '{{ formset.prefix }}',
                                       formCssClass: 'awareness-formset{{ forloop.counter }}',
                                       addText: '+ Add Another Item',
                                       deleteText: 'Remove Item',
                                       addCssClass: 'add-awareness btn btn-success changeaddbtn col-lg-offset-4',
                                       deleteCssClass: 'delete-awareness repositionremovebtn btn btn-danger',
                                    });
                                    {% endfor %}
                                })
                        </script>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Awareness</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.awarenessTotal()" disabled="disabled"/>
                    </div>
                </div>
            </div>
            <!-- End Awareness -->

            <!-- Travel -->
            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Travel</span></h2>

                    <div class="row">
                        <div class="col-md-6 form-inline">
                            <span style="padding-right: 10px"><input class="form-control" type="checkbox" id="travel_chair_with_bike_bool" ng-model="main.travelChairWithBikeBool"/></span>
                            <input class="form-control" type="number" id="travel_chair_with_bike_amount" ng-model="main.travelChairWithBikeAmount"/>
                            <span style="padding-left: 10px"><small>for chair</small></span>
                        </div>
                        <div class="col-md-6 form-inline">
                            <span style="padding-right: 10px"><input class="form-control" type="checkbox" id="travel_manager_with_bike_bool" ng-model="main.travelManagerWithBikeBool"/></span>
                            <input class="form-control" type="number" id="travel_manager_with_bike_amount" ng-model="main.travelManagerWithBikeAmount"/>
                            <span style="padding-left: 10px;"><small>for manager</small></span>
                        </div>
                    </div>

                    <div class="row" style="margin-top: 20px; padding-left: 15px">
                        <div class="col-lg-5 calc-form-input-no-width input-with-text" style="width: 150px">
                            <input class="form-control" type="number" id="travel_number_of_staff_using_bikes" ng-model="main.travelNumberOfStaffUsingBikes"/>
                            <small># of staff using bikes</small>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-3 calc-form-input-no-width">
                            <input class="form-control" type="number" id="travel_number_of_staff_using_bikes_multiplier" ng-model="main.travelNumberOfStaffUsingBikesMultiplier"/>
                        </div>
                        <div class="col-lg-1 form-symbol" style="padding: 0; margin: 0">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.travelNumberOfStaffUsingBikesTotal()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row form-inline" style="margin-top: 30px">
                        <div class="col-lg-11">
                            <span><strong>Last month's expense for sending girls home: </strong></span>
                            <input class="form-control" type="number" id="travel_sending_girls_home_expense" ng-model="main.travelSendingGirlsHomeExpense"/>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                    </div>


                    <div class="row" style="margin-top: 30px; padding-left: 15px">
                        <div class="col-lg-2">
                            <input class="form-control" type="checkbox" id="travel_motorbike_bool" ng-model="main.travelMotorbikeBool"/>
                        </div>
                        <div class="col-lg-3 calc-form-input-no-width input-with-text">
                            <input class="form-control" type="number" id="travel_motorbike_amount" ng-model="main.travelMotorbikeAmount"/>
                            <small>Motorbike</small>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">+</h4>
                        </div>
                        <div class="col-lg-3 calc-form-input-no-width input-with-text">
                            <input class="form-control" type="number" id="travel_other" ng-model="main.travelOther"/>
                            <small>Other</small>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.travelNumberOfStaffUsingBikesTotal()" disabled="disabled"/>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        {{ travel_items_formset.management_form }}
                        {% for item_form in travel_items_formset %}
                            <div id='{{item_form.prefix}}'>
                                {% include "budget/other_item_cost.html" with form=item_form %}
                            </div>
                        {% endfor %}
                        <script type="text/javascript">
                            /* Allows for the creation of more or less staff/committee members */
                                $(function() {
                                    {% for formset in travel_items_formset %}
                                    $('div#{{ formset.prefix }}').formset({
                                       prefix: '{{ formset.prefix }}',
                                       formCssClass: 'travel-formset{{ forloop.counter }}',
                                       addText: '+ Add Another Item',
                                       deleteText: 'Remove Item',
                                       addCssClass: 'add-travel btn btn-success changeaddbtn col-lg-offset-4',
                                       deleteCssClass: 'delete-travel repositionremovebtn btn btn-danger',
                                    });
                                    {% endfor %}
                                })
                        </script>
                    </div>


                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Travel</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.travelTotal()" disabled="disabled"/>
                    </div>

                </div>
                <!-- End Travel -->

                <!-- Supplies -->
                <div class="col-md-6">
                    <h2 class="background"><span>Supplies</span></h2>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="supplies_walkie_talkies_bool" ng-model="main.suppliesWalkieTalkiesBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="supplies_walkie_talkies_amount" ng-model="main.suppliesWalkieTalkiesAmount"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="supplies_recorders_bool" ng-model="main.suppliesRecordersBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="supplies_recorders_amount" ng-model="main.suppliesRecordersAmount"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="supplies_binoculars_bool" ng-model="main.suppliesBinocularsBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="supplies_binoculars_amount" ng-model="main.suppliesBinocularsAmount"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-lg-offset-2">
                            <input class="form-control" type="checkbox" id="supplies_flashlights_bool" ng-model="main.suppliesFlashlightsBool"/>
                        </div>
                        <div class="col-lg-4">
                            <input class="form-control" type="number" id="supplies_flashlights_amount" ng-model="main.suppliesFlashlightsAmount"/>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        {{ supplies_items_formset.management_form }}
                        {% for item_form in supplies_items_formset %}
                            <div id='{{item_form.prefix}}'>
                                {% include "budget/other_item_cost.html" with form=item_form %}
                            </div>
                        {% endfor %}
                        <script type="text/javascript">
                            /* Allows for the creation of more or less staff/committee members */
                                $(function() {
                                    {% for formset in supplies_items_formset %}
                                    $('div#{{ formset.prefix }}').formset({
                                       prefix: '{{ formset.prefix }}',
                                       formCssClass: 'supplies-formset{{ forloop.counter }}',
                                       addText: '+ Add Another Item',
                                       deleteText: 'Remove Item',
                                       addCssClass: 'add-supplies btn btn-success changeaddbtn col-lg-offset-4',
                                       deleteCssClass: 'delete-supplies repositionremovebtn btn btn-danger',
                                    });
                                    {% endfor %}
                                })
                        </script>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Supplies</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.suppliesTotal()" disabled="disabled"/>
                    </div>
                </div>
            </div>
            <!-- End Supplies -->

            <!-- Administration -->
            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Administration</span></h2>
                    <div class="row">
                        <div class="col-md-2 input-with-text calc-form-input-no-width">
                            <input class="form-control" type="number" id="admin_number_of_interceptions_last_month" ng-model="main.adminNumberOfInterceptionsLastMonth"/>
                            <small># of intercepts last month</small>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-md-2 calc-form-input-no-width">
                            <input class="form-control" type="number" id="admin_number_of_interceptions_last_month_multiplier" ng-model="main.adminNumberOfInterceptionsLastMonthMultiplier"/>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">+</h4>
                        </div>
                        <div class="col-md-2 calc-form-input-no-width">
                            <input class="form-control" type="number" id="admin_number_of_interceptions_last_month_adder" ng-model="main.adminNumberOfInterceptionsLastMonthAdder"/>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="width: 150px; padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.adminStationaryTotal()" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="row row-padding" >
                        <div class="col-md-2 input-with-text calc-form-input-no-width">
                            <input class="form-control" type="number" id="admin_number_of_meetings_per_month" ng-model="main.adminNumberOfMeetingsPerMonth"/>
                            <small># of meetings per month</small>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-md-2 calc-form-input-no-width">
                            <input class="form-control" type="number" id="admin_number_of_meetings_per_month_multiplier" ng-model="main.adminNumberOfMeetingsPerMonthMultiplier"/>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="width: 150px; padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.adminMeetingsTotal()" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="row row-padding">
                        <div class="col-lg-2" style="margin-top: 7px; width: 50px">
                            <small><input class="form-control" type="checkbox" id="admin_booth_bool" ng-model="main.adminBoothBool"/></small>
                        </div>
                        <div class="col-lg-2 input-with-text" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="admin_booth_amount" ng-model="main.adminBoothAmount"/>
                            <small>Booth</small>
                        </div>
                        <div class="col-lg-2" style="margin-top: 7px; width: 50px">
                            <input class="form-control" type="checkbox" id="admin_registration_bool" ng-model="main.adminRegistrationBool"/>
                        </div>
                        <div class="col-lg-2 input-with-text" style="width: 100px; padding: 0">
                            <input class="form-control" type="number" id="admin_registration_amount" ng-model="main.adminRegistrationAmount"/>
                            <small>Registration</small>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="width: 150px; padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.adminBoothRentalTotal()" disabled="disabled"/>
                        </div>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Admininstration</label>
                        <input style="width: 100px" class="form-control text-center" ng-value="main.adminTotal()" disabled="disabled"/>
                    </div>
                </div>
                <!-- End Administration -->

                <!-- Total Table -->
                <div class="col-md-6">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th colspan="3" class="text-center">Border Monitoring Station</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Salaries</td>
                                <td width="25%"></td>
                                <td class="active" width="25%"></td>
                            </tr>
                            <tr>
                                <td>Comm.</td>
                                <td><p ng-bind="main.commTotal()"></p></td>
                                <td class="active"></td>
                            </tr> bind
                            <tr>
                                <td>Travel</td>
                                <td><p ng-bind="main.travelTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Admin.</td>
                                <td><p ng-bind="main.adminTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Medical</td>
                                <td><p ng-bind="main.medicalTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Misc.</td>
                                <td><p ng-bind="main.miscTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td class="text-right"><b>TOTAL</b></td>
                                <td colspan="2"><p ng-bind="main.bunchTotal()"></p></td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr class="warning">
                                <th colspan="3" class="text-center">Safe Houses</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="warning">Shelter</td>
                                <td class="warning"><p ng-bind="main.shelterTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td class="warning">Food</td>
                                <td class="warning"><p ng-bind="main.foodTotal()"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr class="warning">
                                <td class="text-right"><b>TOTAL</b></td>
                                <td colspan="2"><p ng-bind="main.foodAndShelterTotal()"></p></td>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td class="text-center"><b>Awareness</b></td>
                                <td colspan="2"><p ng-bind="main.awarenessTotal()"></p></td>
                            </tr>
                            <tr>
                                <td class="text-center"><b>Supplies</b></td>
                                <td colspan="2"><p ng-bind="main.suppliesTotal()"></p></td>
                            </tr>
                            <tr>
                                <td class="text-center"><b>STATION TOTAL</b></td>
                                <td colspan="2"><p ng-bind="main.stationTotal()"></p></td>
                            </tr>
                            <tr>
                                <td class="text-center">Last month's TOTAL</td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>
            <!-- End Table -->

            <!-- Medical -->
            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Medical</span></h2>
                    <div class="row form-inline">
                        <div class="col-md-5 pull-left input-with-text" style="width: 270px">
                            <input class="form-control" type="number" id="medical_expense" ng-model="main.medicalExpense"/>
                            <small>Last month's medical expense</small>
                        </div>
                        <div class="col-md-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-md-6" style="width: 260px">
                            <input style="width: 100px" class="form-control text-center pull-right" ng-value="main.medicalTotal()" disabled="disabled"/>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Medical -->

            <!-- Miscellaneous -->
            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Miscellaneous</span></h2>
                    <div class="row">
                        <div class="col-lg-2 input-with-text calc-form-input-no-width">
                            <input class="form-control" type="number" id="misc_number_of_intercepts" ng-model="main.miscNumberOfIntercepts"/>
                            <small># of intercepts last month</small>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">*</h4>
                        </div>
                        <div class="col-lg-2 calc-form-input-no-width">
                            <input class="form-control" type="number" id="misc_number_of_intercepts_mult" ng-model="main.miscNumberOfInterceptsMult"/>
                        </div>
                        <div class="col-lg-1 form-symbol">
                            <h4 style="text-align: center">=</h4>
                        </div>
                        <div class="col-lg-2 pull-right input-group" style="padding: 0">
                            <div class="input-group-addon">$</div>
                            <input style="width: 100px" class="form-control text-center" ng-value="main.miscMaximum()" disabled="disabled"/>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        {{ misc_items_formset.management_form }}
                        {% for item_form in misc_items_formset %}
                            <div id='{{item_form.prefix}}'>
                                {% include "budget/other_item_cost.html" with form=item_form %}
                            </div>
                        {% endfor %}
                        <script type="text/javascript">
                            /* Allows for the creation of more or less staff/committee members */
                                $(function() {
                                    {% for formset in misc_items_formset %}
                                    $('div#{{ formset.prefix }}').formset({
                                       prefix: '{{ formset.prefix }}',
                                       formCssClass: 'misc-formset{{ forloop.counter }}',
                                       addText: '+ Add Another Item',
                                       deleteText: 'Remove Item',
                                       addCssClass: 'add-misc btn btn-success changeaddbtn col-lg-offset-4',
                                       deleteCssClass: 'delete-misc repositionremovebtn btn btn-danger',
                                    });
                                    {% endfor %}
                                })
                        </script>
                    </div>

                    <div class="row center" style="margin-top: 20px; padding-right: 200px; padding-left: 200px; text-align: center">
                        <label>Total Miscellaneous</label>
                        <input style="width: 100px" class="formxt-center" ng-value="main.miscTotal()" disabledf="disabled"/>
                    </div>
                </div>
            </div>
            <!-- End Miscellaneous -->

        </div>

     {% if submit_type %}
        <div class="row">
            <input type="submit" class="pull-right btn btn-primary navbar-btn btn-lg" value="{{ submit_type }}" />
        </div>
     {% endif %}
     </form>

<script>
angular.module('BudgetCalculation', [])
        .controller('MainCtrl', ['$scope', function($scope) {
            var vm = this;

            vm.retrieveForm = function(id) {
                $.get('/budget/api/budget_calculations/' + id + '/').
                        success(function (data, status, headers, config) {
                            //We can reference the json object to fill our vm variables
                            console.log(data);

                            //shelter
                            vm.shelterRent = data.shelter_rent;
                            vm.shelterWater = data.shelter_water;
                            vm.shelterElectricity = data.shelter_electricity;
                            vm.shelterStartupBool = data.shelter_shelter_startup_;
                            vm.shelterStartupAmount = data.shelter_shelter_startup_amount;
                            vm.shelterTwoBool = data.shelter_shelter_two;
                            vm.shelterTwoAmount = data.shelter_shelter_two_amount;

                            //Food and Gas Section
                            vm.foodGasNumberOfGirls = data.food_and_gas_number_of_intercepted_girls;
                            vm.foodGasMultiplierBefore = data.food_and_gas_number_of_intercepted_girls_multiplier_before;
                            vm.foodGasMultiplierAfter = data.food_and_gas_number_of_intercepted_girls_multiplier_after;
                            vm.limboNumberOfGirls = data.food_and_gas_number_of_limbo_girls;
                            vm.limboMultiplier = data.food_and_gas_limbo_girls_multiplier;
                            vm.limboNumberOfDays = data.food_and_gas_number_of_days;

                            //Communication Section
                            vm.commChairBool = data.communication_chair;
                            vm.commChairAmount = data.communication_chair_amount;
                            vm.commManagerBool = data.communication_manager;
                            vm.commManagerAmount = data.communication_manager_amount;
                            vm.commNumberOfStaffWt = data.communication_number_of_staff_with_walkie_talkies;
                            vm.commNumberOfStaffWtMultiplier = data.communication_number_of_staff_with_walkie_talkies_multiplier;
                            vm.commEachStaffWt = data.communication_each_staff;
                            vm.commEachStaffWtMultiplier = data.communication_each_staff_multiplier;

                            //Misc Section
                            vm.miscNumberOfIntercepts = data.miscellaneous_number_of_intercepts_last_month;
                            vm.miscNumberOfInterceptsMult = data.miscellaneous_number_of_intercepts_last_month_multiplier;

                            //Medical Section
                            vm.medicalExpense = data.medical_last_months_expense;

                            //Administration Section
                            vm.adminNumberOfInterceptionsLastMonth = data.administration_number_of_intercepts_last_month;
                            vm.adminNumberOfInterceptionsLastMonthMultiplier = data.administration_number_of_intercepts_last_month_multiplier;
                            vm.adminNumberOfInterceptionsLastMonthAdder = data.administration_number_of_intercepts_last_month_adder;
                            vm.adminNumberOfMeetingsPerMonth = data.administration_number_of_meetings_per_month;
                            vm.adminNumberOfMeetingsPerMonthMultiplier = data.administration_number_of_meetings_per_month_multiplier;
                            vm.adminBoothBool = data.administration_booth;
                            vm.adminBoothAmount = data.administration_booth_amount;
                            vm.adminRegistrationBool = data.administration_registration;
                            vm.adminRegistrationAmount = data.administration_registration_amount;

                            //Travel Section
                            vm.travelChairWithBikeBool = data.travel_chair_with_bike;
                            vm.travelChairWithBikeAmount = data.travel_chair_with_bike_amount;
                            vm.travelManagerWithBikeBool = data.travel_manager_with_bike;
                            vm.travelManagerWithBikeAmount = data.travel_manager_with_bike_amount;
                            vm.travelNumberOfStaffUsingBikes = data.travel_number_of_staff_using_bikes;
                            vm.travelNumberOfStaffUsingBikesMultiplier = data.travel_number_of_staff_using_bikes_multiplier;
                            vm.travelSendingGirlsHomeExpense = data.travel_last_months_expense_for_sending_girls_home;
                            vm.travelMotorbikeBool = data.travel_motorbike;
                            vm.travelMotorbikeAmount = data.travel_motorbike_amount;
                            vm.travelOther = data.travel_plus_other;

                            //Supplies Section
                            vm.suppliesWalkieTalkiesBool = data.supplies_walkie_talkies_boolean;
                            vm.suppliesWalkieTalkiesAmount = data.supplies_walkie_talkies_amount;
                            vm.suppliesRecordersBool = data.supplies_recorders_boolean;
                            vm.suppliesRecordersAmount = data.supplies_recorders_amount;
                            vm.suppliesBinocularsBool = data.supplies_binoculars_boolean;
                            vm.suppliesBinocularsAmount = data.supplies_binoculars_amount;
                            vm.suppliesFlashlightsBool = data.supplies_flashlights_boolean;
                            vm.suppliesFlashlightsAmount = data.supplies_flashlights_amount;

                            //Awareness Section
                            vm.awarenessContactCardsBool = data.awareness_contact_cards;
                            vm.awarenessContactCardsAmount = data.awareness_contact_cards_amount;
                            vm.awarenessAwarenessPartyBool = data.awareness_awareness_party_boolean;
                            vm.awarenessAwarenessPartyAmount = data.awareness_awareness_party;
                            vm.awarenessSignBoardsBool = data.awareness_sign_boards_boolean;
                            vm.awarenessSignBoardsAmount =data.awareness_sign_boards;
                            // this callback will be called asynchronously
                            // when the response is available

                            $scope.$apply();
                        }).
                        error(function (data, status, headers, config) {
                            // called asynchronously if an error occurs
                            // or server returns response with an error status.
                        });

            };

/*
            vm.shelterRent = 1;
            vm.shelterWater = 2;
            vm.shelterElectricity = 3;
            vm.shelterStartupBool = true;
            vm.shelterStartupAmount = 71800;
            vm.shelterTwoBool = true;
            vm.shelterTwoAmount = 36800;

            //Food and Gas Section
            vm.foodGasNumberOfGirls = 2;
            vm.foodGasMultiplierBefore = 3;
            vm.foodGasMultiplierAfter = 3;
            vm.limboNumberOfGirls = 4;
            vm.limboMultiplier = 3;
            vm.limboNumberOfDays = 5;

            //Communication Section
            vm.commChairBool = true;
            vm.commChairAmount = 100;
            vm.commManagerBool = true;
            vm.commManagerAmount = 200;
            vm.commNumberOfStaffWt = 2;
            vm.commNumberOfStaffWtMultiplier = 4;
            vm.commEachStaffWt = 5;
            vm.commEachStaffWtMultiplier = 2;

            //Misc Section
            vm.miscNumberOfIntercepts = 5;
            vm.miscNumberOfInterceptsMult = 50;

            //Medical Section
            vm.medicalExpense = 100;

            //Administration Section
            vm.adminNumberOfInterceptionsLastMonth = 2;
            vm.adminNumberOfInterceptionsLastMonthMultiplier = 3;
            vm.adminNumberOfInterceptionsLastMonthAdder = 4;
            vm.adminNumberOfMeetingsPerMonth = 5;
            vm.adminNumberOfMeetingsPerMonthMultiplier = 6;
            vm.adminBoothBool = true;
            vm.adminBoothAmount = 100;
            vm.adminRegistrationBool = true;
            vm.adminRegistrationAmount = 500;

            //Travel Section
            vm.travelChairWithBikeBool = true;
            vm.travelChairWithBikeAmount = 200;
            vm.travelManagerWithBikeBool = true;
            vm.travelManagerWithBikeAmount = 200;
            vm.travelNumberOfStaffUsingBikes = 200;
            vm.travelNumberOfStaffUsingBikesMultiplier = 200;
            vm.travelSendingGirlsHomeExpense = 200;
            vm.travelMotorbikeBool = true;
            vm.travelMotorbikeAmount = 200;
            vm.travelOther = 200;

            //Supplies Section
            vm.suppliesWalkieTalkiesBool = true;
            vm.suppliesWalkieTalkiesAmount = 200;
            vm.suppliesRecordersBool = true;
            vm.suppliesRecordersAmount = 200;
            vm.suppliesBinocularsBool = true;
            vm.suppliesBinocularsAmount = 200;
            vm.suppliesFlashlightsBool = true;
            vm.suppliesFlashlightsAmount = 200;

            //Awareness Section
            vm.awarenessContactCardsBool = true;
            vm.awarenessContactCardsAmount = 300;
            vm.awarenessAwarenessPartyBool = true;
            vm.awarenessAwarenessPartyAmount = 300;
            vm.awarenessSignBoardsBool = true;
            vm.awarenessSignBoardsAmount = 300;
*/

            vm.foodAndShelterTotal = function() {
                return vm.foodTotal() + vm.shelterTotal();
            };
            vm.bunchTotal = function() {
                return vm.commTotal() + vm.travelTotal() + vm.adminTotal() +
                        vm.medicalTotal();
            };
            vm.stationTotal = function() {
                return vm.foodAndShelterTotal() + vm.bunchTotal() +
                        vm.awarenessTotal() + vm.suppliesTotal();
            };

            //shelter

            vm.utilTotal = function() {
                return (vm.shelterRent + vm.shelterWater + vm.shelterElectricity);
            };

            vm.shelterCheckboxTotal = function() {
                var totalAmount = 0;
                if (vm.shelterStartupBool) {
                    totalAmount += vm.shelterStartupAmount;
                }
                if (vm.shelterTwoBool) {
                    totalAmount += vm.shelterTwoAmount;
                }
                return totalAmount;
            };
            vm.shelterTotal = function () {
                return vm.shelterRent + vm.shelterWater + vm.shelterElectricity + vm.shelterCheckboxTotal();
            };

            //Food and Gas Section

            vm.foodGasInterceptedGirls = function () {
                return vm.foodGasMultiplierBefore * vm.foodGasNumberOfGirls * vm.foodGasMultiplierAfter;
            };
            vm.foodGasLimboGirls = function () {
                return vm.limboMultiplier * vm.limboNumberOfGirls * vm.limboNumberOfDays;
            };
            vm.foodTotal = function () {
                return vm.foodGasInterceptedGirls() + vm.foodGasLimboGirls();
            };

            //Communication Section
            vm.commManagerTotal = function () {
                var amount = 0;

                if (vm.commChairBool) {
                    amount += vm.commChairAmount;
                }
                if (vm.commManagerBool) {
                    amount += vm.commManagerAmount;
                }
                return amount;
            };

            vm.commNumberOfStaffTotal = function () {
                return vm.commNumberOfStaffWt * vm.commNumberOfStaffWtMultiplier;
            };

            vm.commEachStaffTotal = function () {
                return vm.commEachStaffWt * vm.commEachStaffWtMultiplier;
            };

            vm.commTotal = function () {
                return vm.commManagerTotal() + vm.commNumberOfStaffTotal() + vm.commEachStaffTotal();
            };

            //Misc Section
            vm.miscMaximum = function() {
                return vm.miscNumberOfIntercepts * vm.miscNumberOfInterceptsMult;
            };
            vm.miscTotal = function() {
                return vm.miscMaximum();
            };

            //Medical Section
            vm.medicalTotal = function() {
                return vm.medicalExpense;
            };

            //Administration Section
            vm.adminStationaryTotal = function() {
                return (vm.adminNumberOfInterceptionsLastMonth * vm.adminNumberOfInterceptionsLastMonthMultiplier) + vm.adminNumberOfInterceptionsLastMonthAdder;
            };
            vm.adminMeetingsTotal = function() {
                return vm.adminNumberOfMeetingsPerMonth * vm.adminNumberOfMeetingsPerMonthMultiplier;
            };
            vm.adminBoothRentalTotal = function() {
                var amount = 0;
                if(vm.adminBoothBool) {
                    amount += vm.adminBoothAmount;
                }
                if(vm.adminRegistrationBool) {
                    amount += vm.adminRegistrationAmount;
                }
                return amount;
            };
            vm.adminTotal = function() {
                return vm.adminStationaryTotal() + vm.adminMeetingsTotal() + vm.adminBoothRentalTotal();
            };

            //Travel Section
            vm.travelNumberOfStaffUsingBikesTotal = function() {
                return vm.travelNumberOfStaffUsingBikes * vm.travelNumberOfStaffUsingBikesMultiplier;
            };
            vm.travelTotal = function() {
                var amount = 0;
                if(vm.travelChairWithBikeBool) {
                    amount += vm.travelChairWithBikeAmount;
                }
                if(vm.travelManagerWithBikeBool) {
                    amount += vm.travelManagerWithBikeAmount;
                }
                if(vm.travelMotorbikeBool) {
                    amount += vm.travelMotorbikeAmount;
                }
                return amount + vm.travelOther + vm.travelSendingGirlsHomeExpense + (vm.travelNumberOfStaffUsingBikes * vm.travelNumberOfStaffUsingBikesMultiplier);
            };

            //Supplies Section
            vm.suppliesTotal = function() {
                var amount = 0;
                if(vm.suppliesWalkieTalkiesBool) {
                    amount += vm.suppliesWalkieTalkiesAmount;
                }
                if(vm.suppliesRecordersBool) {
                    amount += vm.suppliesRecordersAmount;
                }
                if(vm.suppliesBinocularsBool) {
                    amount += vm.suppliesBinocularsAmount;
                }
                if(vm.suppliesFlashlightsBool) {
                    amount += vm.suppliesFlashlightsAmount;
                }
                return amount;
            };

            //Awareness Section
            vm.awarenessTotal = function() {
                var amount = 0;
                if(vm.awarenessContactCardsBool) {
                    amount += vm.awarenessContactCardsAmount;
                }
                if(vm.awarenessAwarenessPartyBool) {
                    amount += vm.awarenessAwarenessPartyAmount;
                }
                if(vm.awarenessSignBoardsBool) {
                    amount += vm.awarenessSignBoardsAmount;
                }
                return amount;
            };

            vm.deletePost = function(id) {
                $.get('/budget/api/budget_calculations/delete/' + id + '/').
                        success(function (data, status, headers, config) {
                            console.log("success");
                        }).
                        error(function (data, status, headers, config) {
                            // called asynchronously if an error occurs
                            // or server returns response with an error status.
                        })
            };

            vm.deletePost(3);
            vm.retrieveForm(3);



        }]);
</script>
        <script>

/*function budgetViewModel() {
    //Total Section
    this.foodAndShelterTotal = ko.pureComputed(function() {
        return parseFloat(this.foodTotal()) + parseFloat(this.shelterTotal());
    }, this);
    this.bunchTotal = ko.pureComputed(function() {
        return parseFloat(this.commTotal()) + parseFloat(this.travelTotal()) + parseFloat(this.adminTotal()) +
            parseFloat(this.medicalTotal());
    }, this);
    this.stationTotal = ko.pureComputed(function() {
        return parseFloat(this.foodAndShelterTotal()) + parseFloat(this.bunchTotal()) +
            parseFloat(this.awarenessTotal()) + parseFloat(this.suppliesTotal());
    }, this);

    //Misc Section
    this.miscNumberOfIntercepts = ko.observable({{ form.instance.miscellaneous_number_of_intercepts_last_month }});
    this.miscNumberOfInterceptsMult = ko.observable({{ form.instance.miscellaneous_number_of_intercepts_last_month_multiplier }});
    this.miscMaximum = ko.computed(function() {
        return parseFloat(this.miscNumberOfIntercepts()) * parseFloat(this.miscNumberOfInterceptsMult());
    }, this);
    this.miscTotal = ko.computed(function() {
        return parseFloat(this.miscMaximum());
    }, this);

    //Medical Section
    this.medicalExpense = ko.observable({{ form.instance.medical_last_months_expense }});
    this.medicalTotal = ko.computed(function() {
        return parseFloat(this.medicalExpense());
    }, this);

    //Administration Section
    this.adminNumberOfInterceptionsLastMonth = ko.observable({{ form.instance.administration_number_of_intercepts_last_month }});
    this.adminNumberOfInterceptionsLastMonthMultiplier = ko.observable({{ form.instance.administration_number_of_intercepts_last_month_multiplier }});
    this.adminNumberOfInterceptionsLastMonthAdder = ko.observable({{ form.instance.administration_number_of_intercepts_last_month_adder }});
    this.adminNumberOfMeetingsPerMonth = ko.observable({{ form.instance.administration_number_of_meetings_per_month }});
    this.adminNumberOfMeetingsPerMonthMultiplier = ko.observable({{ form.instance.administration_number_of_meetings_per_month_multiplier }});
    this.adminBoothBool = ko.observable({{ form.instance.administration_booth|lower }} );
    this.adminBoothAmount = ko.observable({{ form.instance.administration_booth_amount }});
    this.adminRegistrationBool = ko.observable({{ form.instance.administration_registration|lower }});
    this.adminRegistrationAmount = ko.observable({{ form.instance.administration_registration_amount }});
    this.adminStationaryTotal = ko.computed(function() {
        return (parseFloat(this.adminNumberOfInterceptionsLastMonth()) * parseFloat(this.adminNumberOfInterceptionsLastMonthMultiplier())) + parseFloat(this.adminNumberOfInterceptionsLastMonthAdder());
    }, this);
    this.adminMeetingsTotal = ko.computed(function() {
        return parseFloat(this.adminNumberOfMeetingsPerMonth()) * parseFloat(this.adminNumberOfMeetingsPerMonthMultiplier());
    }, this);
    this.adminBoothRentalTotal = ko.computed(function() {
        var amount = 0;
        if(this.adminBoothBool()) {
            amount += parseFloat(this.adminBoothAmount());
        }
        if(this.adminRegistrationBool()) {
            amount += parseFloat(this.adminRegistrationAmount());
        }
        return amount;
    }, this);
    this.adminTotal = ko.computed(function() {
        return parseFloat(this.adminStationaryTotal()) + parseFloat(this.adminMeetingsTotal()) + parseFloat(this.adminBoothRentalTotal());
    }, this);

    //Travel Section
    this.travelChairWithBikeBool = ko.observable({{ form.instance.travel_chair_with_bike|lower }});
    this.travelChairWithBikeAmount = ko.observable({{ form.instance.travel_chair_with_bike_amount }});
    this.travelManagerWithBikeBool = ko.observable({{ form.instance.travel_manager_with_bike|lower }});
    this.travelManagerWithBikeAmount = ko.observable({{ form.instance.travel_manager_with_bike_amount }});
    this.travelNumberOfStaffUsingBikes = ko.observable({{ form.instance.travel_number_of_staff_using_bikes }});
    this.travelNumberOfStaffUsingBikesMultiplier = ko.observable({{ form.instance.travel_number_of_staff_using_bikes_multiplier }});
    this.travelSendingGirlsHomeExpense = ko.observable({{ form.instance.travel_last_months_expense_for_sending_girls_home }});
    this.travelMotorbikeBool = ko.observable({{ form.instance.travel_motorbike|lower }});
    this.travelMotorbikeAmount = ko.observable({{ form.instance.travel_motorbike_amount }});
    this.travelOther = ko.observable({{ form.instance.travel_plus_other }});
    this.travelNumberOfStaffUsingBikesTotal = ko.computed(function() {
        return parseFloat(this.travelNumberOfStaffUsingBikes()) * parseFloat(this.travelNumberOfStaffUsingBikesMultiplier());
    }, this);
    this.travelTotal = ko.computed(function() {
        var amount = 0;
        if(this.travelChairWithBikeBool()) {
            amount += parseFloat(this.travelChairWithBikeAmount());
        }
        if(this.travelManagerWithBikeBool()) {
            amount += parseFloat(this.travelManagerWithBikeAmount());
        }
        if(this.travelMotorbikeBool()) {
            amount += parseFloat(this.travelMotorbikeAmount());
        }
        return amount + parseFloat(this.travelOther()) + parseFloat(this.travelSendingGirlsHomeExpense()) +
            (parseFloat(this.travelNumberOfStaffUsingBikes()) * parseFloat(this.travelNumberOfStaffUsingBikesMultiplier()));

    }, this);

    //Supplies Section
    this.suppliesWalkieTalkiesBool = ko.observable({{ form.instance.supplies_walkie_talkies_boolean|lower }});
    this.suppliesWalkieTalkiesAmount = ko.observable({{ form.instance.supplies_walkie_talkies_amount }});
    this.suppliesRecordersBool = ko.observable({{ form.instance.supplies_recorders_boolean|lower }});
    this.suppliesRecordersAmount = ko.observable({{ form.instance.supplies_recorders_amount }});
    this.suppliesBinocularsBool = ko.observable({{ form.instance.supplies_binoculars_boolean|lower }});
    this.suppliesBinocularsAmount = ko.observable({{ form.instance.supplies_binoculars_amount }});
    this.suppliesFlashlightsBool = ko.observable({{ form.instance.supplies_flashlights_boolean|lower }});
    this.suppliesFlashlightsAmount = ko.observable({{ form.instance.supplies_flashlights_amount }});
    this.suppliesTotal = ko.computed(function() {
        var amount = 0;
        if(this.suppliesWalkieTalkiesBool()) {
            amount += parseFloat(this.suppliesWalkieTalkiesAmount());
        }
        if(this.suppliesRecordersBool()) {
            amount += parseFloat(this.suppliesRecordersAmount());
        }
        if(this.suppliesBinocularsBool()) {
            amount += parseFloat(this.suppliesBinocularsAmount());
        }
        if(this.suppliesFlashlightsBool()) {
            amount += parseFloat(this.suppliesFlashlightsAmount());
        }
        return amount;
    }, this);

    //Awareness Section
    this.awarenessContactCardsBool = ko.observable({{ form.instance.awareness_contact_cards|lower }});
    this.awarenessContactCardsAmount = ko.observable({{ form.instance.awareness_contact_cards_amount }});
    this.awarenessAwarenessPartyBool = ko.observable({{ form.instance.awareness_awareness_party_boolean|lower }});
    this.awarenessAwarenessPartyAmount = ko.observable({{ form.instance.awareness_awareness_party }});
    this.awarenessSignBoardsBool = ko.observable({{ form.instance.supplies_flashlights_boolean|lower }});
    this.awarenessSignBoardsAmount = ko.observable({{ form.instance.awareness_sign_boards }});
    this.awarenessTotal = ko.computed(function() {
        var amount = 0;
        if(this.awarenessContactCardsBool()) {
            amount += parseFloat(this.awarenessContactCardsAmount());
        }
        if(this.awarenessAwarenessPartyBool()) {
            amount += parseFloat(this.awarenessAwarenessPartyAmount());
        }
        if(this.awarenessSignBoardsBool()) {
            amount += parseFloat(this.awarenessSignBoardsAmount());
        }
        return amount;
    }, this);

    //Shelter Section
    this.firstName = "TOTAL";
    this.shelterRent = ko.observable({{ form.instance.shelter_rent }});
    this.shelterWater = ko.observable({{ form.instance.shelter_water }});
    this.shelterElectricity = ko.observable({{ form.instance.shelter_electricity }});
    this.utilTotal = ko.pureComputed(function() {
        return parseFloat(this.shelterRent()) + parseFloat(this.shelterElectricity()) + parseFloat(this.shelterWater());
    }, this);
    this.shelterCheckboxTotal = ko.pureComputed(function () {
        var totalAmount = 0;
        if (this.shelterStartupBool()) {
            totalAmount += parseFloat(this.shelterStartupAmount());
        }
        if (this.shelterTwoBool()) {
            totalAmount += parseFloat(this.shelterTwoAmount());
        }
        return totalAmount;
    }, this);
    this.shelterTotal = ko.pureComputed(function () {
        return parseFloat(this.shelterRent()) + parseFloat(this.shelterWater()) + parseFloat(this.shelterElectricity()) + parseFloat(this.shelterCheckboxTotal());
    }, this);
    this.shelterStartupBool = ko.observable({{ form.instance.shelter_shelter_startup|lower }});
    this.shelterStartupAmount = ko.observable({{ form.instance.shelter_shelter_startup_amount }});
    this.shelterTwoBool = ko.observable({{ form.instance.shelter_shelter_two|lower }});
    this.shelterTwoAmount = ko.observable({{ form.instance.shelter_shelter_two_amount }});

    //Food and Gas Section
    this.foodGasNumberOfGirls = ko.observable({{ form.instance.food_and_gas_number_of_intercepted_girls }});
    this.foodGasMultiplierBefore = ko.observable({{ form.instance.food_and_gas_number_of_intercepted_girls_multiplier_before }});
    this.foodGasMultiplierAfter = ko.observable({{ form.instance.food_and_gas_number_of_intercepted_girls_multiplier_after }});
    this.limboNumberOfGirls = ko.observable({{ form.instance.food_and_gas_number_of_limbo_girls }});
    this.limboMultiplier = ko.observable({{ form.instance.food_and_gas_limbo_girls_multiplier }});
    this.limboNumberOfDays = ko.observable({{ form.instance.food_and_gas_number_of_days }});
    this.foodGasInterceptedGirls = ko.pureComputed(function () {
        return parseFloat(this.foodGasMultiplierBefore()) * parseFloat(this.foodGasNumberOfGirls()) * parseFloat(this.foodGasMultiplierAfter());
    }, this);
    this.foodGasLimboGirls = ko.pureComputed(function () {
        return parseFloat(this.limboMultiplier()) * parseFloat(this.limboNumberOfGirls()) * parseFloat(this.limboNumberOfDays());
    }, this);
    this.foodTotal = ko.computed(function () {
        return parseFloat(this.foodGasInterceptedGirls()) + parseFloat(this.foodGasLimboGirls());
    }, this);

    //Communication section
    this.commChairBool = ko.observable({{ form.instance.communication_chair|lower }});
    this.commChairAmount = ko.observable({{ form.instance.communication_chair_amount }});
    this.commManagerBool = ko.observable({{ form.instance.communication_manager|lower }});
    this.commManagerAmount = ko.observable({{ form.instance.communication_manager_amount }});
    this.commNumberOfStaffWt = ko.observable({{ form.instance.communication_number_of_staff_with_walkie_talkies }});
    this.commNumberOfStaffWtMultiplier = ko.observable({{ form.instance.communication_number_of_staff_with_walkie_talkies_multiplier }});
    this.commEachStaffWt = ko.observable({{ form.instance.communication_each_staff }});
    this.commEachStaffWtMultiplier = ko.observable({{ form.instance.communication_each_staff_multiplier }});
    this.commManagerTotal = ko.computed(function () {
        var amount = 0;

        if (this.commChairBool()) {
            amount += parseFloat(this.commChairAmount());
        }
        if (this.commManagerBool()) {
            amount += parseFloat(this.commManagerAmount());
        }
        return amount;
    }, this);

    this.commNumberOfStaffTotal = ko.computed(function () {
        return parseFloat(this.commNumberOfStaffWt()) * parseFloat(this.commNumberOfStaffWtMultiplier());
    }, this);

    this.commEachStaffTotal = ko.computed(function () {
        return parseFloat(this.commEachStaffWt()) * parseFloat(this.commEachStaffWtMultiplier());
    }, this);

    this.commTotal = ko.computed(function () {
        return parseFloat(this.commManagerTotal()) + parseFloat(this.commNumberOfStaffTotal()) + parseFloat(this.commEachStaffTotal());
    }, this);
}

ko.applyBindings(new budgetViewModel());*/
</script>




    {% endblock %}
{% endblock %}