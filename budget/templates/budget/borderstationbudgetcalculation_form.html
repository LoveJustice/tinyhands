{% extends 'base.html' %}
{% load widget_tweaks %}
{% load bootstrap %}
{% load humanize %}
{% load unslugify %}




{% block title %}Budget Calculation{% endblock %}

{% block tab_block %}
    {% block content %}
        <script type="text/javascript" src="http://knockoutjs.com/downloads/knockout-3.2.0.js"></script>

     <h1 style="font-size: 25px; text-align: center">Tiny Hands Nepal - Border Monitoring Station Budget Calculation Form</h1>

     <form id="budget-calc-form" method="post">
        {% csrf_token %}

        <div class="form-page">
            <div class="row">
                <div class="col-md-4">
                    Station Name: {{ form.instance.border_station.station_name }} ({{ form.instance.border_station.station_code }})
                    {{ form.border_station|bootstrap }}
                </div>

                <div class="col-md-2">
                    Date Submitted: {{ form.instance.date_time_entered|date:"D. M. Y."}}
                </div>

                <div class="col-md-4 col-md-offset-7">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>   </th>
                                <th class="text-center">INT</th>
                                <th class="text-center">$/INT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Last Month</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>Last 3 Months</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>All Time</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td># of Staff</td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Staff Salaries</span></h2>
                    We need to render this from the static station model

                    {{ form2 }}

                </div>
                <div class="col-md-6">
                    <h2 class="background"><span>Shelter</span></h2>
                    {{ form.shelter_rent|attr:"data-bind:value: shelterRent"|bootstrap }}
                    {{ form.shelter_water|attr:"data-bind:value: shelterWater"|bootstrap }}
                    {{ form.shelter_electricity|attr:"data-bind:value: shelterElectricity"|bootstrap }}
                    {{ form.shelter_shelter_startup|attr:"data-bind:checked: shelterStartupBool"|bootstrap }}
                    {{ form.shelter_shelter_startup_amount|attr:"data-bind:value: shelterStartupAmount"|bootstrap }}
                    {{ form.shelter_shelter_two|attr:"data-bind:checked: shelterTwoBool"|bootstrap }}
                    {{ form.shelter_shelter_two_amount|attr:"data-bind:value: shelterTwoAmount"|bootstrap }}

                    <label>Shelter Checkbox Total</label>
                    <p>The checkbox total is <span data-bind="text: shelterCheckboxTotal"></span><br/></p>

                    <label for="shelterTotal">Shelter TOTAL</label>
                    <p>The total is <span data-bind="text: shelterTotal"></span><p/>
                </div>

            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Communication</span></h2>
                    {{ form.communication_chair|attr:"data-bind:checked: commChairBool"|bootstrap }}
                    {{ form.communication_chair_amount|attr:"data-bind:value: commChairAmount"|bootstrap }}
                    {{ form.communication_manager|attr:"data-bind:checked: commManagerBool"|bootstrap }}
                    {{ form.communication_manager_amount|attr:"data-bind:value: commManagerAmount"|bootstrap }}
                    {{ form.communication_number_of_staff_with_walkie_talkies|attr:"data-bind:value: commNumberOfStaffWt"|bootstrap }}
                    {{ form.communication_number_of_staff_with_walkie_talkies_multiplier|attr:"data-bind:value: commNumberOfStaffWtMultiplier"|bootstrap }}
                    {{ form.communication_each_staff|attr:"data-bind:value: commEachStaffWt"|bootstrap }}
                    {{ form.communication_each_staff_multiplier|attr:"data-bind:value: commEachStaffWtMultiplier"|bootstrap }}
                    <label>TOTAL COMM</label>
                    <p>The total is <span data-bind="text: commTotal"></span><br/></p>
                </div>
                <div class="col-md-6">
                    <h2 class="background"><span>Food & Gas</span></h2>
                    {{ form.food_and_gas_number_of_intercepted_girls|attr:"data-bind:value: foodGasNumberOfGirls"|bootstrap }}
                    {{ form.food_and_gas_number_of_intercepted_girls_multiplier_before|attr:"data-bind:value: foodGasMultiplierBefore"|bootstrap }}
                    {{ form.food_and_gas_number_of_intercepted_girls_multiplier_after|attr:"data-bind:value: foodGasMultiplierAfter"|bootstrap }}
                    {{ form.food_and_gas_limbo_girls_multiplier|attr:"data-bind:value: limboMultiplier"|bootstrap }}
                    {{ form.food_and_gas_number_of_limbo_girls|attr:"data-bind:value: limboNumberOfGirls"|bootstrap }}
                    {{ form.food_and_gas_number_of_days|attr:"data-bind:value: limboNumberOfDays"|bootstrap }}

                    <label>Intercepted TOTAL</label>
                    <p>The total is <span data-bind="text: foodGasInterceptedGirls"></span><br/></p>

                    <label>Intercepted TOTAL</label>
                    <p>The total is <span data-bind="text: foodGasLimboGirls"></span><br/></p>

                    <label>TOTAL FOOD</label>
                    <p>The total is <span data-bind="text: foodTotal"></span><br/></p>


                    <h2 class="background"><span>Awareness</span></h2>
                    {{ form.awareness_contact_cards|attr:"data-bind:checked: awarenessContactCardsBool"|bootstrap }}
                    {% comment %}{{ form.awareness_contact_cards_boolean_amount|attr:"data-bind:value: foodGasNumberOfGirls"|bootstrap }}{% endcomment %}
                    {{ form.awareness_contact_cards_amount|attr:"data-bind:value: awarenessContactCardsAmount"|bootstrap }}
                    {{ form.awareness_awareness_party_boolean|attr:"data-bind:checked: awarenessAwarenessPartyBool"|bootstrap }}
                    {{ form.awareness_awareness_party|attr:"data-bind:value: awarenessAwarenessPartyAmount"|bootstrap }}
                    {{ form.awareness_sign_boards_boolean|attr:"data-bind:checked: awarenessSignBoardsBool"|bootstrap }}
                    {{ form.awareness_sign_boards|attr:"data-bind:value: awarenessSignBoardsAmount"|bootstrap }}
                    <label>TOTAL AWARENESS</label>
                    <p>The total is <span data-bind="text: awarenessTotal"></span><br/></p>


                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Travel</span></h2>
                    {{ form.travel_chair_with_bike|attr:"data-bind:checked: travelChairWithBikeBool"|bootstrap }}
                    {{ form.travel_chair_with_bike_amount|attr:"data-bind:value: travelChairWithBikeAmount"|bootstrap }}
                    {{ form.travel_manager_with_bike|attr:"data-bind:checked: travelManagerWithBikeBool"|bootstrap }}
                    {{ form.travel_manager_with_bike_amount|attr:"data-bind:value: travelManagerWithBikeAmount"|bootstrap }}
                    {{ form.travel_number_of_staff_using_bikes|attr:"data-bind:value: travelNumberOfStaffUsingBikes"|bootstrap }}
                    {{ form.travel_number_of_staff_using_bikes_multiplier|attr:"data-bind:value: travelNumberOfStaffUsingBikesMultiplier"|bootstrap }}
                    {{ form.travel_last_months_expense_for_sending_girls_home|attr:"data-bind:value: travelSendingGirlsHomeExpense"|bootstrap }}
                    {{ form.travel_motorbike|attr:"data-bind:checked: travelMotorbikeBool"|bootstrap }}
                    {{ form.travel_motorbike_amount|attr:"data-bind:value: travelMotorbikeAmount"|bootstrap }}
                    {{ form.travel_plus_other|attr:"data-bind:value: travelOther"|bootstrap }}
                    <label>TOTAL TRAVEL</label>
                    <p>The total is <span data-bind="text: travelTotal"></span><br/></p>
                </div>

                <div class="col-md-6">
                    <h2 class="background"><span>Supplies</span></h2>
                    {{ form.supplies_walkie_talkies_boolean|attr:"data-bind:checked: suppliesWalkieTalkiesBool"|bootstrap }}
                    {{ form.supplies_walkie_talkies_amount|attr:"data-bind:value: suppliesWalkieTalkiesAmount"|bootstrap }}
                    {{ form.supplies_recorders_boolean|attr:"data-bind:checked: suppliesRecordersBool"|bootstrap }}
                    {{ form.supplies_recorders_amount|attr:"data-bind:value: suppliesRecordersAmount"|bootstrap }}
                    {{ form.supplies_binoculars_boolean|attr:"data-bind:checked: suppliesBinocularsBool"|bootstrap }}
                    {{ form.supplies_binoculars_amount|attr:"data-bind:value: suppliesBinocularsAmount"|bootstrap }}
                    {{ form.supplies_flashlights_boolean|attr:"data-bind:checked: suppliesFlashlightsBool"|bootstrap }}
                    {{ form.supplies_flashlights_amount|attr:"data-bind:value: suppliesFlashlightsAmount"|bootstrap }}
                    <label>TOTAL AWARENESS</label>
                    <p>The total is <span data-bind="text: suppliesTotal"></span><br/></p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Administration</span></h2>

                    {{ form.administration_number_of_intercepts_last_month|attr:"data-bind:value: adminNumberOfInterceptionsLastMonth"|bootstrap }}
                    {{ form.administration_number_of_intercepts_last_month_multiplier|attr:"data-bind:value: adminNumberOfInterceptionsLastMonthMultiplier"|bootstrap }}
                    {{ form.administration_number_of_intercepts_last_month_adder|attr:"data-bind:value: adminNumberOfInterceptionsLastMonthAdder"|bootstrap }}
                    {{ form.administration_number_of_meetings_per_month|attr:"data-bind:value: adminNumberOfMeetingsPerMonth"|bootstrap }}
                    {{ form.administration_number_of_meetings_per_month_multiplier|attr:"data-bind:value: adminNumberOfMeetingsPerMonthMultiplier"|bootstrap }}
                    {{ form.administration_booth|attr:"data-bind:checked: adminBoothBool"|bootstrap }}
                    {{ form.administration_booth_amount|attr:"data-bind:value: adminBoothAmount"|bootstrap }}
                    {{ form.administration_registration|attr:"data-bind:checked: adminRegistrationBool"|bootstrap }}
                    {{ form.administration_registration_amount|attr:"data-bind:value: adminRegistrationAmount"|bootstrap }}
                    <label>Stationary</label>
                    <p>The total is <span data-bind="text: adminStationaryTotal"></span><br/></p>
                    <label>Meetings</label>
                    <p>The total is <span data-bind="text: adminMeetingsTotal"></span><br/></p>
                    <label>Booth Rental</label>
                    <p>The total is <span data-bind="text: adminBoothRentalTotal"></span><br/></p>
                    <label>ADMIN TOTAL</label>
                    <p>The total is <span data-bind="text: adminTotal"></span><br/></p>
                </div>
                <div class="col-md-6">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th colspan="3" class="text-center">Border Monitoring Station</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Salaries</td>
                                <td width="25%"></td>
                                <td class="active" width="25%"></td>
                            </tr>
                            <tr>
                                <td>Comm.</td>
                                <td></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Travel</td>
                                <td><p data-bind="text: travelTotal"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Admin.</td>
                                <td></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Medical</td>
                                <td></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td>Misc.</td>
                                <td></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td class="text-right"><b>TOTAL</b></td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr class="warning">
                                <th colspan="3" class="text-center">Safe Houses</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="warning">Shelter</td>
                                <td class="warning"><p data-bind="text: shelterTotal"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr>
                                <td class="warning">Food</td>
                                <td class="warning"><p data-bind="text: foodTotal"></p></td>
                                <td class="active"></td>
                            </tr>
                            <tr class="warning">
                                <td class="text-right"><b>TOTAL</b></td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td class="text-center"><b>Awareness</b></td>
                                <td colspan="2"></td>
                            </tr>
                            <tr>
                                <td class="text-center"><b>Supplies</b></td>
                                <td colspan="2"></td>
                            </tr>
                            <tr>
                                <td class="text-center"><b>STATION TOTAL</b></td>
                                <td colspan="2"></td>
                            </tr>
                            <tr>
                                <td class="text-center">Last month's TOTAL</td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Medical</span></h2>
                    {{ form.medical_last_months_expense|bootstrap }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <h2 class="background"><span>Miscellaneous</span></h2>
                    {{ form.miscellaneous_number_of_intercepts_last_month|bootstrap }}
                    {{ form.miscellaneous_number_of_intercepts_last_month_multiplier|bootstrap }}

                </div>
            </div>

        </div>

     <script type='text/javascript' src="{{ STATIC_URL }}budget.js"></script>
     </form>
        <div class="row">

            <input type="submit" class="pull-right btn btn-primary navbar-btn btn-lg" value="Create" />
    </div>
     </form>




    {% endblock %}
{% endblock %}